{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nvar _jsxFileName = \"/Users/ryanmurphy/Desktop/projects/pats-site-root/recrutment-base/client/src/components/Login.js\";\nimport React, { Component } from 'react';\nimport { withRouter } from 'react-router-dom';\nimport { connect } from 'react-redux';\nimport axios from 'axios';\nimport Home from '../Home';\n\nclass Login extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      value: '',\n      password: '',\n      error: false\n    };\n    this.handlePasswordChange = this.handlePasswordChange.bind(this);\n    this.handleEmailChange = this.handleEmailChange.bind(this);\n    this.handleSubmit = this.handleSubmit.bind(this);\n  }\n\n  handleEmailChange(event) {\n    this.setState({\n      email: event.target.value\n    });\n  }\n\n  handlePasswordChange(event) {\n    this.setState({\n      password: event.target.value\n    });\n  }\n\n  handleSubmit(event) {\n    event.preventDefault();\n    let {\n      dispatch\n    } = this.props;\n    let password = event.target.elements[1].value;\n    let data = {\n      password: password\n    }; // if there is not a userID or sessionID, other components redirect back to login\n\n    console.log(data);\n    axios.post('/api/auth/login', data).then(res => {\n      dispatch({\n        type: 'LOGIN'\n      });\n      localStorage.setItem('sessionID', \"1\");\n      localStorage.setItem('userID', \"2\");\n      console.log(\"Response\", res.data);\n    }).catch(error => {\n      console.log(\"ERR\", error);\n      this.setState({\n        error: true\n      });\n    });\n  }\n\n  render() {\n    const {\n      password,\n      error\n    } = this.state;\n    const isEnabled = password.length > 0;\n    const {\n      isAuthenticated\n    } = this.props;\n\n    if (isAuthenticated) {\n      window.location.replace(\"/\");\n      return /*#__PURE__*/_jsxDEV(\"div\", {\n        children: /*#__PURE__*/_jsxDEV(Home, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 67,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 66,\n        columnNumber: 9\n      }, this);\n    }\n\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: /*#__PURE__*/_jsxDEV(\"form\", {\n        className: \"form\",\n        onSubmit: this.handleSubmit,\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex-item\",\n            children: [/*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"hidden\",\n              placeholder: \"Email\",\n              autoComplete: \"off\",\n              name: \"email\",\n              value: \"work@work.com\",\n              onChange: this.handleEmailChange\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 77,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"password\",\n              placeholder: \"Password\",\n              autoComplete: \"off\",\n              name: \"password\",\n              onChange: this.handlePasswordChange\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 78,\n              columnNumber: 15\n            }, this), error ? /*#__PURE__*/_jsxDEV(\"span\", {\n              class: \"error\",\n              children: \"Incorrect Password\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 80,\n              columnNumber: 19\n            }, this) : '', /*#__PURE__*/_jsxDEV(\"input\", {\n              disabled: !isEnabled,\n              type: \"submit\",\n              value: \"Submit\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 83,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 76,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 75,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 74,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 7\n    }, this);\n  }\n\n}\n\nvar mapStateToProps = state => {\n  return {\n    isAuthenticated: state.auth.loggedIn\n  };\n};\n\nexport default connect(mapStateToProps)(withRouter(Login));","map":{"version":3,"sources":["/Users/ryanmurphy/Desktop/projects/pats-site-root/recrutment-base/client/src/components/Login.js"],"names":["React","Component","withRouter","connect","axios","Home","Login","constructor","props","state","value","password","error","handlePasswordChange","bind","handleEmailChange","handleSubmit","event","setState","email","target","preventDefault","dispatch","elements","data","console","log","post","then","res","type","localStorage","setItem","catch","render","isEnabled","length","isAuthenticated","window","location","replace","mapStateToProps","auth","loggedIn"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport { withRouter } from 'react-router-dom';\nimport { connect } from 'react-redux';\nimport axios from 'axios';\n\nimport Home from '../Home';\n\nclass Login extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      value: '',\n      password: '',\n      error: false\n    };\n\n    this.handlePasswordChange = this.handlePasswordChange.bind(this);\n    this.handleEmailChange = this.handleEmailChange.bind(this);\n    this.handleSubmit = this.handleSubmit.bind(this);\n  }\n\n  handleEmailChange(event) {\n    this.setState({ email: event.target.value });\n  }\n\n  handlePasswordChange(event) {\n    this.setState({ password: event.target.value });\n  }\n\n  handleSubmit(event) {\n    event.preventDefault();\n\n    let { dispatch } = this.props\n    let password = event.target.elements[1].value;\n    let data = { password: password };\n\n    // if there is not a userID or sessionID, other components redirect back to login\n\n    console.log(data)\n\n    axios.post('/api/auth/login', data)\n      .then((res) => {\n\n        dispatch({ type: 'LOGIN' });\n\n        localStorage.setItem('sessionID', \"1\");\n        localStorage.setItem('userID', \"2\");\n\n        console.log(\"Response\", res.data)\n\n      })\n      .catch(error => {\n        console.log(\"ERR\", error);\n        this.setState({ error: true })\n      });\n  }\n\n  render() {\n    const { password, error } = this.state;\n    const isEnabled = password.length > 0;\n    const { isAuthenticated } = this.props;\n\n    if (isAuthenticated) {\n      window.location.replace(\"/\");\n      return (\n        <div>\n          <Home />\n        </div>\n      );\n    }\n\n    return (\n      <div>\n        <form className=\"form\" onSubmit={this.handleSubmit}>\n          <div className=\"flex\">\n            <div className=\"flex-item\">\n              <input type=\"hidden\" placeholder=\"Email\" autoComplete=\"off\" name=\"email\" value=\"work@work.com\" onChange={this.handleEmailChange} />\n              <input type=\"password\" placeholder=\"Password\" autoComplete=\"off\" name=\"password\" onChange={this.handlePasswordChange} />\n              {(error)\n                ? <span class=\"error\">Incorrect Password</span>\n                : ''\n              }\n              <input disabled={!isEnabled} type=\"submit\" value=\"Submit\" />\n            </div>\n          </div>\n        </form>\n      </div>\n    );\n  }\n}\n\nvar mapStateToProps = state => {\n  return {\n    isAuthenticated: state.auth.loggedIn\n  }\n}\n\nexport default connect(mapStateToProps)(withRouter(Login));\n"]},"metadata":{},"sourceType":"module"}